<!DOCTYPE html>
<html>
  <head>
    <link rel="shortcut icon" type="image/png" href="./favicon.png"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="src/styles/login.css">
  </head>
  <body class="login-bg">
    <script src="dist/bundle.js" type="text/javascript"></script>
    <h3 class="brand-logo dotbind-login-logo">dotBind</h3>
    <div class="container">
      <div class="login-box">
        <div class="container">
          <a class="waves-effect waves-light btn login-buttons" href="../auth/github">Login w/ Github</a>
          <p>--- or ---</p>
          <form action="auth/regular" method="post">
            <input id="email" type="email" placeholder="email" name="email" />
            <input id="password" type="password" placeholder="password" name="password" />
            <button id="login" class="waves-effect waves-light btn login-buttons">Login</button>
            <button id="guest-login" class="waves-effect waves-light btn login-buttons">Guest Login</button>
          </form>
        </div>
      </div>
    </div>
    <script type="text/javascript">
      guestLogin = function(event) {
        event.preventDefault();
        var that = this;
        $username = $('#email');
        $password = $('#password');
        $submitButton = $('#login');
        $username.val('');
        $password.val('');

        this.slowType($username, 'public@gmail.com', function() {
          that.slowType($password, 'password', function() {
            $submitButton.click();
          });
        });
      },

      slowType = function($el, word, callback) {
        var typing = setInterval(function() {
          $el.val( $el.val() + word.slice(0,1) );
          word = word.substr(1);
          if ( !word ) {
            clearInterval(typing);
            callback();
          }
        }, 50);
      }

      $('#guest-login').on('click', guestLogin.bind(this));
    </script>
  </body>
</html>
